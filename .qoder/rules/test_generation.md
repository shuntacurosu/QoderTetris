# テスト生成ルール (Model Decision)

**適用条件**: ユニットテスト、統合テスト、テストケースの生成時

## TDD原則の適用

### テスト優先開発
- 実装前にテストを書く
- 失敗するテストから開始
- 最小限の実装で通すテストを作成

### 包括的なテストケース
- **正常系**: 期待される動作の確認
- **異常系**: エラーハンドリングの確認
- **境界値**: エッジケースでの動作確認
- **パフォーマンス**: 必要に応じて性能テスト

## テスト構造

### ファイル命名規則
- `test_*.py` または `*_test.py`
- テスト対象モジュールと対応する命名

### テストクラス設計
```python
class TestClassName:
    def setup_method(self):
        """各テストメソッド実行前の準備"""
        pass
    
    def test_正常系_期待される動作(self):
        """正常系テストの例"""
        # Arrange (準備)
        # Act (実行) 
        # Assert (検証)
        pass
    
    def test_異常系_エラーケース(self):
        """異常系テストの例"""
        pass
```

### アサーション
- 明確で理解しやすいアサーション
- 失敗時に有用なエラーメッセージ
- pytest の豊富なアサーション機能を活用

## テスト品質

### モックとスタブ
- 外部依存の適切なモック化
- テストの独立性確保
- `unittest.mock` または `pytest-mock`の活用

### テストデータ
- 意味のあるテストデータの使用
- ファクトリパターンやフィクスチャの活用
- テストデータの再利用性考慮